(this["webpackJsonpweather-happy-app"]=this["webpackJsonpweather-happy-app"]||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),o=a.n(r),i=a(4),s=a.n(i),c=(a(15),a(3)),u=a.n(c),h=a(5),l=a(6),d=a(7),p=a(9),f=a(8),b=(a(17),a(18),function(e){var t=["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"][e.getDay()],a=e.getDate(),n=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][e.getMonth()],r=e.getFullYear();return"".concat(t,", ").concat(a," de ").concat(n," de ").concat(r)}),j=function(e){var t=e.data;return Object(n.jsxs)("div",{className:"weather-item",children:[Object(n.jsxs)("div",{className:"location-box",children:[Object(n.jsxs)("div",{className:"location",children:[t.name,", ",t.sys.country]}),Object(n.jsx)("div",{className:"date",children:b(new Date)})]}),Object(n.jsxs)("div",{className:"weather-box",children:[Object(n.jsxs)("div",{className:"temp",children:[Math.round(t.main.temp),"\xb0c"]}),Object(n.jsx)("div",{className:"weather",children:t.weather[0].description.charAt(0).toUpperCase()+t.weather[0].description.slice(1)})]})]})},y=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getBrowserPosition=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))},n.getWeatherByLocation=function(){var e=Object(h.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("//".concat(n.state.openWeatherAPI,"weather?lat=").concat(t,"&lon=").concat(a,"&appid=").concat(n.state.openWeatherKey,"&units=metric&lang=pt_br")).then((function(e){return e.json()})).then((function(e){n.setState({query:"",weather:e,lastOperation:{type:"byLocation"},refreshing:!1}),console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getWeatherByQuery=function(e){("Enter"===e.key||"refresh"===e&&void 0===e.key)&&fetch("//".concat(n.state.openWeatherAPI,"weather?q=").concat(n.state.query,"&appid=").concat(n.state.openWeatherKey,"&units=metric&lang=pt_br")).then((function(e){return e.json()})).then((function(e){n.setState({weather:e,lastOperation:{type:"byQuery",q:n.state.query},query:"",refreshing:!1}),console.log(e)}))},n.triggerPositionQuery=function(){n.getBrowserPosition().then((function(e){n.getWeatherByLocation(e.coords.latitude,e.coords.longitude)})).catch((function(e){alert("Ops! Ocorreu um erro ao pesquisar a temperatura da sua localidade atual. Verifique se o seu navegador est\xe1 habilitado.")}))},n.refreshLastWeather=function(){"byLocation"===n.state.lastOperation.type?n.setState({refreshing:!0},(function(){n.triggerPositionQuery()})):n.setState({refreshing:!0,query:n.state.lastOperation.q},(function(){n.getWeatherByQuery("refresh")}))},n.state={openWeatherKey:"d3c5928599c5c22e8bc6dd88ca81706d",openWeatherAPI:"api.openweathermap.org/data/2.5/",query:"",weather:{},lastOperation:{}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.triggerPositionQuery()}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"undefined"!=typeof this.state.weather.main&&this.state.weather.main.temp>16?"app warm":"app",children:Object(n.jsxs)("main",{children:[Object(n.jsx)("div",{className:"search-box",children:Object(n.jsx)("input",{type:"text",className:"search-bar",placeholder:'Digite um local e pressione "Enter"...',onChange:function(t){return e.setState({query:t.target.value})},value:this.state.query,onKeyPress:this.getWeatherByQuery})}),"undefined"!=typeof this.state.weather.main?Object(n.jsxs)("div",{className:"weather-item-container",children:[Object(n.jsx)(j,{data:this.state.weather}),this.state.refreshing?Object(n.jsx)("p",{className:"refresh-p",children:"Atualizando..."}):Object(n.jsx)("button",{onClick:this.refreshLastWeather,className:"refresh-btn",children:"Atualizar"})]}):""]})})}}]),a}(o.a.Component);var m=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(y,{})})};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.87cb9077.chunk.js.map